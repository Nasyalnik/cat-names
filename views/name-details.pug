extends extends/main
block title
  |  –ó–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ - #{name}
block append styles
  link(rel='stylesheet', href='/css/name-details.css')
  style.
    .button-like {
      margin-left: 10px;
    }

    .button-like.is-liked, .button-like.is-liked:active {
      background-color: var(--grey-lighter-color);
    }

    .button-like.is-liked:focus:active {
      background-color: hsl(0, 0%, 76%);
      outline: none;
    }

    .button-like.is-liked:hover {
      border-color: hsl(0, 0%, 81%);
      background-color: hsl(0, 0%, 81%);
    }
block append scripts
  script(type='text/javascript', src='/js/upload-photo.js')
block content
  section.section
    .container
      .columns
        .column.is-2
          figure.image.is-64x64.is-pulled-right
            img(src='/img/cat.png')
        .column
          .name-details
            div
              - var urlLikeAction = liked ? `/cats/${id}/unlike` : `/cats/${id}/like`
              form#like-form(method='POST' action=urlLikeAction)
                span.title.is-3 –ó–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ #{name}
                  button.button.button-like.is-light(type='submit' class=liked ? 'is-liked' : '' title=liked ? '–£–±—Ä–∞—Ç—å –ª–∞–π–∫' : '–õ–∞–π–∫–Ω—É—Ç—å')
                    | üëç&nbsp;
                    span
                      | #{likes}
            br
            //- if gender == 'female'
            //-   span.icon.has-text-danger
            //-     i.fas.fa-venus
            //- else if gender == 'male'
            //-   span.icon.has-text-info
            //-     i.fas.fa-mars
            //- else if gender == 'unisex'
            //-   span.icon.has-text-primary
            //-     i.fas.fa-venus-mars
            form(method='GET', action='/cats/' + id + '/edit')
              if description
                div= description
                br
                button.button.is-success.is-outlined(type='submit') –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ
              else
                div
                  | –£ —ç—Ç–æ–≥–æ –∫–æ—Ç–∞ –Ω–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è
                br
                button.button.is-success.is-outlined(type='submit') –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ
  section.section
    .container
      .columns
        .column.is-2
        .column
          div
            span.title.is-3 –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
          br
          .gallery
            .photo.upload
              label
                span.title
                  | –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                form(method='POST', action=`/cats/${id}/upload`, enctype='multipart/form-data')
                  input#upload-photo(type='file' accept='image/png,image/jpeg' name='file')
            each url in photos || []
              .photo(style=`background-image:url(${url})`)
